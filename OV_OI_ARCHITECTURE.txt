┌─────────────────────────────────────────────────────────────────────────────┐
│                      EUYSTACIO FRAMEWORK - OV/OI MODULES                     │
└─────────────────────────────────────────────────────────────────────────────┘

╔═══════════════════════════════════════════════════════════════════════════╗
║                    OV: OPEN VISUAL - Authentication System                ║
╠═══════════════════════════════════════════════════════════════════════════╣
║                                                                             ║
║  ┌──────────────────────────────────────────────────────────────────────┐  ║
║  │                         Login Interface                               │  ║
║  │  ┌────────────────┐        ┌──────────────┐       ┌───────────────┐  │  ║
║  │  │  Camera Input  │───────▶│  TensorFlow  │──────▶│ Face Detected │  │  ║
║  │  │  (Video Feed)  │        │  Face Model  │       │   Keypoints   │  │  ║
║  │  └────────────────┘        └──────────────┘       └───────┬───────┘  │  ║
║  │                                                            │          │  ║
║  │                    ┌────────────────────────┐             │          │  ║
║  │                    │  Stored Credentials    │             │          │  ║
║  │                    │  (LocalStorage)        │◀────────────┘          │  ║
║  │                    │  ┌──────────────────┐  │                        │  ║
║  │                    │  │ AES-256 Encrypted│  │                        │  ║
║  │                    │  │ - PBKDF2 Hash    │  │                        │  ║
║  │                    │  │ - Salt (128-bit) │  │                        │  ║
║  │                    │  │ - Facial Data    │  │                        │  ║
║  │                    │  └──────────────────┘  │                        │  ║
║  │                    └────────┬───────────────┘                        │  ║
║  │                             │                                        │  ║
║  │         ┌───────────────────┴────────────────┐                      │  ║
║  │         │     Authentication Success?         │                      │  ║
║  │         └───────────┬───────────┬─────────────┘                      │  ║
║  │                 YES │           │ NO                                 │  ║
║  │         ┌───────────▼───────┐   │                                    │  ║
║  │         │  Create Session   │   │  ┌────────────────────────┐        │  ║
║  │         │  (24hr expiry)    │   └─▶│  Password Fallback     │        │  ║
║  │         └───────────┬───────┘      │  (Manual Login)        │        │  ║
║  │                     │              └────────────┬───────────┘        │  ║
║  │                     └──────────────────────────┬┘                    │  ║
║  │                                                │                     │  ║
║  │                     ┌──────────────────────────▼───────────────┐    │  ║
║  │                     │     Redirect to OI Interface              │    │  ║
║  │                     └──────────────────────────────────────────┘    │  ║
║  └──────────────────────────────────────────────────────────────────────┘  ║
║                                                                             ║
║  ┌──────────────────────────────────────────────────────────────────────┐  ║
║  │                      Registration Module                              │  ║
║  │                                                                       │  ║
║  │  User Input           Validation          Security                   │  ║
║  │  ┌──────────┐        ┌──────────┐        ┌──────────────┐           │  ║
║  │  │ Username │───────▶│ Length   │───────▶│ Store with   │           │  ║
║  │  │ Email    │        │ Format   │        │ Encryption   │           │  ║
║  │  │ Password │        │ Strength │        │              │           │  ║
║  │  └──────────┘        └──────────┘        │ - PBKDF2     │           │  ║
║  │                                          │ - AES-256    │           │  ║
║  │  ┌──────────┐        ┌──────────┐        │ - Random Salt│           │  ║
║  │  │ Face Scan│───────▶│ Capture  │───────▶│              │           │  ║
║  │  │(Optional)│        │ Features │        └──────────────┘           │  ║
║  │  └──────────┘        └──────────┘                                   │  ║
║  │                                                                       │  ║
║  │  ┌──────────┐        ┌──────────┐                                   │  ║
║  │  │ Document │───────▶│ Validate │                                   │  ║
║  │  │(Optional)│        │ Type/Size│                                   │  ║
║  │  └──────────┘        └──────────┘                                   │  ║
║  └──────────────────────────────────────────────────────────────────────┘  ║
╚═══════════════════════════════════════════════════════════════════════════╝

                                       │
                                       │ Authenticated User
                                       ▼

╔═══════════════════════════════════════════════════════════════════════════╗
║                  OI: OPEN INTERFACE - AR Environment                      ║
╠═══════════════════════════════════════════════════════════════════════════╣
║                                                                             ║
║  ┌──────────────────────────────────────────────────────────────────────┐  ║
║  │                     AR Environment (Three.js)                         │  ║
║  │                                                                       │  ║
║  │    ┌────────────────┐      ┌────────────────┐     ┌──────────────┐  │  ║
║  │    │   Workspace 1  │      │   Workspace 2  │     │ Workspace 3  │  │  ║
║  │    │  ┌──────────┐  │      │  ┌──────────┐  │     │  ┌────────┐  │  │  ║
║  │    │  │ 3D File  │  │      │  │ 3D File  │  │     │  │3D File │  │  │  ║
║  │    │  │ Objects  │  │      │  │ Objects  │  │     │  │Objects │  │  │  ║
║  │    │  └──────────┘  │      │  └──────────┘  │     │  └────────┘  │  │  ║
║  │    │                │      │                │     │              │  │  ║
║  │    │  Collaborators:│      │  Collaborators:│     │ Collab: 1    │  │  ║
║  │    │  User1, User2  │      │  User3         │     │              │  │  ║
║  │    └────────────────┘      └────────────────┘     └──────────────┘  │  ║
║  │                                                                       │  ║
║  │    Features:                                                         │  ║
║  │    • Drag & Drop Files → 3D Objects                                 │  ║
║  │    • Real-time Workspace Switching                                  │  ║
║  │    • Multi-user Collaboration                                       │  ║
║  │    • Interactive 3D Environment                                     │  ║
║  └──────────────────────────────────────────────────────────────────────┘  ║
║                                                                             ║
║  ┌──────────────────────────────────────────────────────────────────────┐  ║
║  │                      Analytics Engine                                 │  ║
║  │                                                                       │  ║
║  │  Real-time Metrics          Performance           Export             │  ║
║  │  ┌──────────────┐           ┌──────────┐          ┌──────────┐      │  ║
║  │  │ Active Users │           │   FPS    │          │   JSON   │      │  ║
║  │  │   Count: 5   │           │   60fps  │          │   CSV    │      │  ║
║  │  └──────────────┘           └──────────┘          └──────────┘      │  ║
║  │                                                                       │  ║
║  │  ┌──────────────┐           ┌──────────┐          ┌──────────┐      │  ║
║  │  │  Workspaces  │           │ Latency  │          │ History  │      │  ║
║  │  │   Count: 3   │           │   25ms   │          │ 1000 pts │      │  ║
║  │  └──────────────┘           └──────────┘          └──────────┘      │  ║
║  │                                                                       │  ║
║  │  ┌──────────────┐           ┌──────────┐          ┌──────────┐      │  ║
║  │  │ Interactions │           │  Render  │          │Telemetry │      │  ║
║  │  │  Count: 42   │           │  16.7ms  │          │ Toggle   │      │  ║
║  │  └──────────────┘           └──────────┘          └──────────┘      │  ║
║  │                                                                       │  ║
║  │  Features:                                                           │  ║
║  │  • Toggleable Telemetry (On/Off)                                    │  ║
║  │  • Aggregated Statistics (avg, peak)                                │  ║
║  │  • Event Subscriptions                                              │  ║
║  │  • Data Export (JSON/CSV)                                           │  ║
║  └──────────────────────────────────────────────────────────────────────┘  ║
╚═══════════════════════════════════════════════════════════════════════════╝

┌─────────────────────────────────────────────────────────────────────────────┐
│                            DATA FLOW                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                               │
│  User Registration                                                            │
│  ─────────────────                                                            │
│  Input → Validation → PBKDF2(password + salt) → AES-256 → LocalStorage       │
│                                                                               │
│  User Login (Facial)                                                          │
│  ────────────────────                                                         │
│  Camera → TensorFlow → Keypoints → Compare → Session → OI Redirect           │
│                                                                               │
│  User Login (Password)                                                        │
│  ──────────────────────                                                       │
│  Input → PBKDF2 → Compare Hash → Session → OI Redirect                       │
│                                                                               │
│  File Upload in OI                                                            │
│  ──────────────────                                                           │
│  File → Create 3D Object → Position in Space → Add to Workspace              │
│                                                                               │
│  Analytics Collection                                                         │
│  ────────────────────                                                         │
│  Events → Metrics Collection → History Storage → Dashboard Display           │
│                                                                               │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                          SECURITY LAYERS                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                               │
│  Layer 1: Password Security                                                  │
│  ──────────────────────────                                                  │
│  PBKDF2 with 10,000 iterations + unique 128-bit salt per user               │
│                                                                               │
│  Layer 2: Data Encryption                                                    │
│  ─────────────────────────                                                   │
│  AES-256 encryption for all credentials in LocalStorage                      │
│                                                                               │
│  Layer 3: Session Management                                                 │
│  ───────────────────────────                                                 │
│  24-hour expiration with timestamp validation                                │
│                                                                               │
│  Layer 4: Facial Data Privacy                                                │
│  ──────────────────────────────                                              │
│  Only numeric keypoints stored (no images or video)                          │
│                                                                               │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                            TESTING COVERAGE                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                               │
│  Smart Contracts: 59 tests ✓                                                 │
│  OV Authentication: 17 tests ✓                                               │
│  OI Environment: 26 tests ✓                                                  │
│  ────────────────────────────                                                │
│  Total: 102 tests ✓                                                          │
│                                                                               │
└─────────────────────────────────────────────────────────────────────────────┘
